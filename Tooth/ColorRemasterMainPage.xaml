<Page
    x:Class="Tooth.ColorRemasterMainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Tooth"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:Custom="using:Microsoft.UI.Xaml.Controls.Primitives"
    mc:Ignorable="d"
    d:DesignWidth="798"
    d:DesignHeight="949"
    Background="#25282C"
    RequestedTheme="Dark" FontSize="18"
    d:DataContext="{d:DesignInstance Type=local:ColorRemasterModelWrapper}">

    <Page.Resources>
        <SolidColorBrush x:Key="ButtonBackground" Color="#3E434B"/>
        <SolidColorBrush x:Key="ButtonBackgroundPointerOver" Color="#484E58"/>
        <SolidColorBrush x:Key="ButtonBackgroundPressed" Color="#3A3F47"/>
        <SolidColorBrush x:Key="ButtonBackgroundDisabled" Color="#2C3035"/>
        <SolidColorBrush x:Key="ButtonBorderBrush" Color="#6B7584"/>
        <SolidColorBrush x:Key="ButtonBorderBrushPointerOver" Color="#6B7584"/>
        <SolidColorBrush x:Key="ButtonBorderBrushPressed" Color="#555D69"/>
        <SolidColorBrush x:Key="ButtonBorderBrushDisabled" Color="#3A3F46"/>
        <StaticResource x:Key="RepeatButtonBackground" ResourceKey="ButtonBackground"/>
        <StaticResource x:Key="RepeatButtonBackgroundPointerOver" ResourceKey="ButtonBackgroundPointerOver"/>
        <StaticResource x:Key="RepeatButtonBackgroundPressed" ResourceKey="ButtonBackgroundPressed"/>
        <StaticResource x:Key="RepeatButtonBackgroundDisabled" ResourceKey="ButtonBackgroundDisabled"/>
        <StaticResource x:Key="RepeatButtonBorderBrush" ResourceKey="ButtonBorderBrush"/>
        <StaticResource x:Key="RepeatButtonBorderBrushPointerOver" ResourceKey="ButtonBorderBrushPointerOver"/>
        <StaticResource x:Key="RepeatButtonBorderBrushPressed" ResourceKey="ButtonBorderBrushPressed"/>
        <StaticResource x:Key="RepeatButtonBorderBrushDisabled" ResourceKey="ButtonBorderBrushDisabled"/>
        <CornerRadius x:Key="ControlCornerRadius">8,8,8,8</CornerRadius>
        <Thickness x:Key="ButtonPadding">15,10,15,11</Thickness>
    </Page.Resources>
    
    <Grid Padding="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Image Carousel -->
            <RowDefinition Height="*"/>
            <!-- Sliders -->
        </Grid.RowDefinitions>

        <!-- Image Carousel -->
        <Grid Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Top">
            <Image x:Name="CarouselImage" HorizontalAlignment="Stretch" VerticalAlignment="Top" MinHeight="150" MaxHeight="250" Stretch="UniformToFill" Tapped="CarouselImage_Tapped" />

            <!-- Left/Right overlay buttons -->
            <Button Content="◀" Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="10,0,0,0" Click="LeftButton_Click" />
            <Button Content="▶" Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,10,0" Click="RightButton_Click" />
        </Grid>
        <!-- Sliders Section -->
        <!-- ScrollViewer for Sliders -->
        <ScrollViewer Grid.Row="1" Margin="0,20,0,0" VerticalScrollBarVisibility="Auto">

            <!-- Launch Backend Button -->
            <StackPanel x:Name="MainPanel" Orientation="Vertical" Spacing="10">
                <StackPanel Orientation="Vertical" Spacing="4" x:Name="StartingBackgroundserviceTextBlock">
                    <TextBlock Text="Starting Background service ..."
                           FontSize="18"
                           FontWeight="Bold"
                           Margin="0,0,0,4"/>
                    <Button x:Name="LaunchBackendButton"
                    HorizontalAlignment="Stretch"
                    Click="LaunchBackendButton_OnClick"
                    FontSize="18"
                    Height="47" IsTabStop="false">
                        Start Tooth Service manually
                    </Button>
                </StackPanel>
                
                <!-- Saturation -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Saturation" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="187*"/>
                                <ColumnDefinition Width="404*"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>

                            <Slider x:Name="SliderSaturation"
                                    Grid.Column="0"
                                    Margin="5,0,10,0"
                                    Minimum="{Binding SaturationMin}"
                                    Maximum="{Binding SaturationMax}"
                                    Value="{Binding SaturationValue, Mode=TwoWay}"
                                    VerticalAlignment="Center"
                                    Grid.ColumnSpan="2"
                                    ValueChanged="SliderSaturation_ValueChanged"/>

                            <muxc:NumberBox x:Name="SpinnerSaturation"
                                            Grid.Column="2"
                                            Value="{Binding SaturationValue, Mode=TwoWay}"
                                            Minimum="{Binding SaturationMin}"
                                            Maximum="{Binding SaturationMax}"
                                            SpinButtonPlacementMode="Inline"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="16"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            Width="115"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Contrast -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Contrast" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="187*"/>
                                <ColumnDefinition Width="404*"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>

                            <Slider x:Name="SliderContrast"
                                    Grid.Column="0"
                                    Margin="5,0,10,0"
                                    Minimum="{Binding ContrastMin}"
                                    Maximum="{Binding ContrastMax}"
                                    Value="{Binding ContrastValue, Mode=TwoWay}"
                                    VerticalAlignment="Center"
                                    Grid.ColumnSpan="2"
                                    ValueChanged="SliderContrast_ValueChanged"/>

                            <muxc:NumberBox x:Name="SpinnerContrast"
                                            Grid.Column="2"
                                            Minimum="{Binding ContrastMin}"
                                            Maximum="{Binding ContrastMax}"
                                            Value="{Binding ContrastValue, Mode=TwoWay}"
                                            SpinButtonPlacementMode="Inline"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="16"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            Width="115"/>
                        </Grid>
                    </StackPanel>
                </Border>


                <!-- Brightness -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Brightness" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="187*"/>
                                <ColumnDefinition Width="404*"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>

                            <Slider x:Name="SliderBrightness"
                                    Grid.Column="0"
                                    Margin="5,0,10,0"
                                    Minimum="{Binding BrightnessMin}"
                                    Maximum="{Binding BrightnessMax}"
                                    Value="{Binding BrightnessValue, Mode=TwoWay}"
                                    VerticalAlignment="Center"
                                    Grid.ColumnSpan="2"
                                    ValueChanged="SliderBrightness_ValueChanged"/>

                            <muxc:NumberBox x:Name="SpinnerBrightness"
                                            Grid.Column="2"
                                            Minimum="{Binding BrightnessMin}"
                                            Maximum="{Binding BrightnessMax}"
                                            Value="{Binding BrightnessValue, Mode=TwoWay}"
                                            SpinButtonPlacementMode="Inline"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="16"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            Width="115"/>
                        </Grid>
                    </StackPanel>
                </Border>



                <!-- Hue -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Hue" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="187*"/>
                                <ColumnDefinition Width="404*"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>

                            <Slider x:Name="SliderHue"
                                    Grid.Column="0"
                                    Margin="5,0,10,0"
                                    Minimum="{Binding HueMin}"
                                    Maximum="{Binding HueMax}"
                                    Value="{Binding HueValue, Mode=TwoWay}"
                                    VerticalAlignment="Center"
                                    Grid.ColumnSpan="2"
                                    ValueChanged="SliderHue_ValueChanged"/>

                            <muxc:NumberBox x:Name="SpinnerHue"
                                            Grid.Column="2"
                                            Minimum="{Binding HueMin}"
                                            Maximum="{Binding HueMax}"
                                            Value="{Binding HueValue, Mode=TwoWay}"
                                            SpinButtonPlacementMode="Inline"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="16"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            Width="115"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Gamma -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Gamma" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="187*"/>
                                <ColumnDefinition Width="404*"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>

                            <Slider x:Name="SliderGamma"
                                    Grid.Column="0"
                                    Margin="5,0,10,0"
                                    Minimum="{Binding GammaMin}"
                                    Maximum="{Binding GammaMax}"
                                    Value="{Binding GammaValue, Mode=TwoWay}"
                                    SmallChange="0.01"
                                    VerticalAlignment="Center"
                                    Grid.ColumnSpan="2"
                                    ValueChanged="SliderGamma_ValueChanged"/>

                            <muxc:NumberBox x:Name="SpinnerGamma"
                                            Grid.Column="2"
                                            Minimum="{Binding GammaMin}"
                                            Maximum="{Binding GammaMax}"
                                            Value="{Binding GammaValue, Mode=TwoWay}"
                                            SpinButtonPlacementMode="Inline"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="16"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            Width="115"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Sharpness -->
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Sharpness" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="187*"/>
                                <ColumnDefinition Width="404*"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>

                            <Slider x:Name="SliderSharpness"
                                    Grid.Column="0"
                                    Margin="5,0,10,0"
                                    Minimum="{Binding SharpnessMin}"
                                    Maximum="{Binding SharpnessMax}"
                                    Value="{Binding SharpnessValue, Mode=TwoWay}"
                                    VerticalAlignment="Center"
                                    Grid.ColumnSpan="2"
                                    ValueChanged="SliderSharpness_ValueChanged"/>

                            <muxc:NumberBox x:Name="SpinnerSharpness"
                                            Grid.Column="2"
                                            Minimum="{Binding SharpnessMin}"
                                            Maximum="{Binding SharpnessMax}"
                                            Value="{Binding SharpnessValue, Mode=TwoWay}"                                            SpinButtonPlacementMode="Inline"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="16"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            Width="115"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <Button x:Name="ResetToDefaultsButton"
                        Margin="0,5"
                        HorizontalAlignment="Stretch"
                        Click="ResetToDefaultsButton_OnClick"
                        FontSize="16"
                        Height="50">
                    Reset to defaults
                </Button>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
